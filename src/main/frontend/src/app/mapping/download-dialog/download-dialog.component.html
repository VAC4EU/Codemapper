<div class="title">
    <h1 mat-dialog-title>
        Download {{numMappings}} mapping{{numMappings == 1 ? '' : 's'}}
    </h1>
    <button mat-icon-button mat-dialog-close><mat-icon>close</mat-icon></button>
</div>
<div *ngIf="numMappings > 25" class="inputs" mat-dialog-content>
    The download is currently limited to 25 mappings at once. Working on it! Thanks for your patience.
</div>

<div *ngIf="numMappings <= 25" class="inputs" mat-dialog-content>
    <mat-form-field>
        <mat-label>Name</mat-label>
        <input #filename matInput [value]="defaultFilename()">
    </mat-form-field>
    <p>
        <button mat-raised-button enabled="enabled" (click)="download('codelist', filename.value)"
            color="primary"><mat-icon>download</mat-icon>Codelist</button>
        <br />
        The codelist generated from the selected mappings.
        <span *ngIf="data.includeDescendants == IncludeDescendants.PerMapping">
            Descendant codes are included according to the configuration of each mapping.
        </span>
        <span *ngIf="data.includeDescendants != IncludeDescendants.PerMapping">
            Descendant codes are
            <span *ngIf="data.includeDescendants == IncludeDescendants.No">not</span>
            included (according to the mapping configuration).
        </span>
    </p>
    
    <p>
        <button mat-raised-button enabled="enabled" (click)="download('metadata', filename.value)"
            color="primary"><mat-icon>download</mat-icon>Mappings metadata</button>
        <br />
        Versions, configurations, coding systems, and links of the selected mappings.
    </p>
    <!--
    <p>
        <button mat-raised-button enabled="enabled" (click)="download('coding_systems', filename.value)"
            color="primary"><mat-icon>download</mat-icon>Coding systems metadata</button>
        <br />
        The versions of the coding systems used in the selected mapping.
    </p>
    -->
    <p>All downloads are CSV files.</p>
</div>